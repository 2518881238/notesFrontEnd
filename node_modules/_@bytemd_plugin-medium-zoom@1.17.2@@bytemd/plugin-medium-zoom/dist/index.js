"use strict";
function _interopNamespace(e) {
  if (e && e.__esModule)
    return e;
  const n = Object.create(null, { [Symbol.toStringTag]: { value: "Module" } });
  if (e) {
    for (const k in e) {
      if (k !== "default") {
        const d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: () => e[k]
        });
      }
    }
  }
  n.default = e;
  return Object.freeze(n);
}
function mediumZoom(options) {
  let m;
  return {
    viewerEffect({ markdownBody }) {
      const imgs = [...markdownBody.querySelectorAll("img")].filter((e) => {
        var _a, _b;
        return ((_b = (_a = options == null ? void 0 : options.filter) == null ? void 0 : _a.call(options, e)) != null ? _b : true) && !e.closest("a");
      });
      if (imgs.length === 0)
        return;
      (async () => {
        if (!m) {
          m = await Promise.resolve().then(() => /* @__PURE__ */ _interopNamespace(require("medium-zoom")));
        }
        m.default(imgs, options);
      })();
    }
  };
}
module.exports = mediumZoom;
